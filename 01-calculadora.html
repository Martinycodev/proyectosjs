<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="style.css">
    <title>Calculadora</title>
    <style>

        @font-face {
        font-family: 'Calculator';
        src:url("./fuentes/Calculator.ttf");
        font-weight: bold;
        }

    </style>
</head>
<body>
    <div class="container">
        <div class="calculadora">
    
            <div class="pantalla" >
                <input type="text" id="display" 
                style="
                font-family: Calculator; 
                font-size: 40pt; 
                text-align: right; 
                padding: 20px; "
                onkeydown="return handleKey(event)" 
                maxlength="12">
            </div>

            <div class="botones">
                <button onclick="addToDisplay('1')">1</button>
                <button onclick="addToDisplay('2')">2</button>
                <button onclick="addToDisplay('3')">3</button>
                <button onclick="addToDisplay('+')" style="background-color: bisque;">+</button>
                <button onclick="addToDisplay('4')">4</button>
                <button onclick="addToDisplay('5')">5</button>
                <button onclick="addToDisplay('6')">6</button>
                <button onclick="addToDisplay('-')" style="background-color: bisque;">-</button>
                <button onclick="addToDisplay('7')">7</button>
                <button onclick="addToDisplay('8')">8</button>
                <button onclick="addToDisplay('9')">9</button>
                <button onclick="addToDisplay('*')" style="background-color: bisque;">X</button>
                <button onclick="clearDisplay()" style="background-color: #fc6868;">C</button>
                <button onclick="addToDisplay('0')">0</button>
                <button onclick="calculateResult()" style="background-color: #9496ff;">=</button>
            
                <button onclick="addToDisplay('/')" style="background-color: bisque;">/</button>
            </div>
            
        </div>
    </div>

    <script>
        let display = document.getElementById('display');

        window.addEventListener('load', function() {
            display.focus();
        });

        function addToDisplay(value) {
            display.value += value;
            display.focus();
        }

        function clearDisplay() {
            display.value = '';
            display.focus();
        }

        function calculateResult() {
            try {
                display.value = eval(display.value);
                display.focus();
            } catch (error) {
                display.value = 'Error';
                display.focus();
            }
        }
        function handleKey(event) {
            const key = event.key;

            if (key === 'Enter') {
                calculateResult();
                event.preventDefault();
                display.focus(); // Evita que se agregue un salto de línea en el campo de entrada
            } else if (!/^\d$|^\+|^-|^\*|^\/$|^Backspace$|^Delete$|^ArrowLeft$|^ArrowRight$/.test(key)) {
                event.preventDefault(); // Evita que se ingrese el carácter no deseado
                alert("solo números y operaciones");
                display.focus();
            }
        }
    </script>
</body>
</html>
